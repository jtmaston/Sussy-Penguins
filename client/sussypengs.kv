#:import C kivy.utils.get_color_from_hex
#:import RiseInTransition kivy.uix.screenmanager.RiseInTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import Window kivy.core.window.Window
#:import Factory kivy.factory.Factory
#:import utils kivy.utils
#:import math math

<RightPenguin@Widget>:
    Image:
        source: 'assets/right_peng.png'
        pos: self.parent.pos
        size: self.size

<LeftPenguin@Widget>:
    Image:
        source: 'assets/left_peng.png'
        pos: self.parent.pos
        size: self.size

<ForwardPenguin@Widget>:
    Image:
        source: 'assets/penguin_blue_trimmed.png'
        pos: self.parent.pos
        size: self.size

ScreenManager:
	transition: SlideTransition(direction="up")
	Screen:
	    name: 'welcome_screen'
	    Image:
	        source: 'assets/menu.png'
	    FloatLayout:
	        Label:
	            id: menu_text
	            font_size: '50dp'
	            font_name: 'assets/Segoe UI'
	            text_size: 1000, None
                size: self.texture_size
	            color: utils.get_color_from_hex("000000")
	            pos: self.parent.center_x - ( self.width / 2 ), -self.height - 150
	        MDTextButton:
	            on_press: app.root.current = 'menu_screen'
	            padding: 20, 20
	            text:'Skip'
	            font_name: 'assets/Bumbasti'
	            size_hint: None, None
	            size: 100, 50
	        Image:
                source:'assets/gary_concerned.png'
                size_hint: None, None
                size: 240, 240
                pos: self.parent.width - self.width, 0

    Screen:
	    name: 'menu_screen'
	    Image:
	        source: 'assets/menu.png'
	    FloatLayout:
            Label:
                text: 'Penguin Force'
                text_size: 1000, None
                valign: 'center'
                halign: 'center'
                font_size: '50dp'
                font_name: 'assets/Bumbasti'
                size_hint: None, None
                pos_hint: {'center_x': .5, 'center_y': .5}

            Label:
                text: 'Operation Burning heat'
                text_size: 1000, None
                valign: 'center'
                halign: 'center'
                font_size: '25dp'
                font_name: 'assets/Bumbasti'
                size_hint: None, None
                pos_hint: {'center_x': .5, 'center_y': .4}

            BoxLayout:
                pos_hint: {'center_x': .5, 'center_y': .3}
                size_hint: 0.7, None
                Widget:
                    size_hint: 0.20, 1
                MDTextButton:
                    text: 'Play'
                    font_name: 'assets/Bumbasti'
                    font_size: '25dp'
                    on_press:
                        app.root.current = 'character_select'
                Widget:
                    size_hint: 0.1, 1
                MDTextButton:
                    text: 'Help'
                    font_name: 'assets/Bumbasti'
                    font_size: '25dp'
                    on_press:
                        app.root.current = 'tutorial'
                Widget:
                    size_hint: 0.20, 1

	        Image:
                source:'assets/gary_concerned.png'
                size_hint: None, None
                size: 240, 240
                pos: self.parent.width - self.width, 0

	Screen:
        name:'game_screen'
        on_pre_enter:
            app.root.transition = FadeTransition()
        on_enter:
			Window.size = (app.viewport_size[0], app.viewport_size[1])
        Image:
            source:'assets/Command_room.png'
            #pos: app.pos
            size: app.viewport_size
        FloatLayout:
            id: 'game_room'
            size: root.width, root.height

            LeftPenguin:
                id: player_1
                pos: 330, 310
                size_hint: None, None
            ForwardPenguin:
                id: player_2
                pos: 510, 422
                size_hint: None, None
            ForwardPenguin:
                id: player_3
                pos: 640, 422
                size_hint: None, None
            ForwardPenguin:
                id: player_4
                pos: 780, 422
                size_hint: None, None
            ForwardPenguin:
                id: player_5
                pos: 920, 422
                size_hint: None, None
            RightPenguin:
                id: player_6
                pos: 1080, 310
                size_hint: None, None

            BoxLayout:
                size_hint: None, None
                size: 750, 200
                pos_hint: {'center_x': .5, 'center_y': 0.7}
                canvas.before:
                    Color:
                        rgba: 1, 0, 0, 1
                    Line:
                        width: 3
                        rectangle: self.x, self.y, self.width, self.height